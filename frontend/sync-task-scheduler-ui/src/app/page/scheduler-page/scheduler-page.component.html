<div class="scheduler-page">
    <app-scheduler-search-bar (fetchedTasks)="fetchResultsFromSearchBarComponent($event)"
        (searchIsCompleted)="onSearchIsCompletedUpdate($event)" (errorMessage)="onErrorMessageUpdate($event)"
        (sharedPageNumberChange)="sharedPageNumber = $event" [sharedPageSize]="sharedPageSize"
        (sharedSearchQueryChange)="searchQuery = $event" (sharedTotalPages)="sharedTotalPages = $event"
        (searchWasTriggered)="searchWasTriggered = $event"></app-scheduler-search-bar>

    <app-in-progress-process-spinner
        [actionsAreCompleted]="[fetchForTableInitIsCompleted, searchIsCompleted]"></app-in-progress-process-spinner>

    <app-pagination [currentPage]="sharedPageNumber" [pageSize]="sharedPageSize" [totalPages]="sharedTotalPages"
        (pageChange)="goToPage($event)" (pageSizeChange)="onPageSizeChange($event)">
    </app-pagination>

    <app-schedule-table [(tasks)]="tasks" (successMessage)="onSuccessMessageUpdate($event)"
        (errorMessage)="onErrorMessageUpdate($event)"
        (fetchForTableInitIsCompleted)="onFetchForTableInitIsCompletedUpdate($event)" [sharedPageSize]="sharedPageSize"
        [sharedTotalPages]="sharedTotalPages" [searchQuery]="searchQuery"
        (sharedTotalPagesChange)="sharedTotalPages = $event"></app-schedule-table>

    <app-error-message [errorMessage]=" errorMessage"></app-error-message>

    <app-empty-results [tasks]="tasks" [errorMessage]="errorMessage"
        [fetchForTableInitIsCompleted]="fetchForTableInitIsCompleted"></app-empty-results>
</div>